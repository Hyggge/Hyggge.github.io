<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="874px" height="899px" viewBox="-0.5 -0.5 874 899" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-05-09T03:45:55.807Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.54 Safari/537.36&quot; etag=&quot;eBo2tFKmLYNVOvQwNWjy&quot; version=&quot;18.0.2&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;VvQPQp1xE9iDG_6IB8ee&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs><style type="text/css">@import url(https://fonts.googleapis.com/css?family=Architects+Daughter);&#xa;</style></defs><g><rect x="399" y="813" width="257" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><rect x="399" y="690" width="258" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><rect x="399" y="570" width="257" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><rect x="399" y="455" width="256" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><rect x="588" y="346" width="260" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><path d="M 717.5 329 L 709.5 329" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><rect x="588" y="259" width="259" height="70" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><rect x="588" y="184" width="259" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-dasharray="3 3" pointer-events="all"/><path d="M 75 75 L 75 460 L 74.53 845" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><rect x="15" y="15" width="120" height="60" rx="9" ry="9" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 45px; margin-left: 16px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 15px"><b>父进程执行<br />fork<br /></b></font></div></div></div></foreignObject><text x="75" y="49" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">父进程执行fork...</text></switch></g><path d="M 255 165 L 255 375" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><rect x="155" y="105" width="200" height="60" rx="9" ry="9" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 135px; margin-left: 156px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b>set_pgfault_handler</b></div></div></div></foreignObject><text x="255" y="140" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px" text-anchor="middle">set_pgfault_handler</text></switch></g><path d="M 75 135 L 148.63 135" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 153.88 135 L 146.88 138.5 L 148.63 135 L 146.88 131.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 255 215 L 328.63 215" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 333.88 215 L 326.88 218.5 L 328.63 215 L 326.88 211.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 255 295 L 328.63 295" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 333.88 295 L 326.88 298.5 L 328.63 295 L 326.88 291.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 255 375 L 328.63 375" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 333.88 375 L 326.88 378.5 L 328.63 375 L 326.88 371.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="335" y="195" width="220" height="40" rx="6" ry="6" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 215px; margin-left: 336px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b><font style="font-size: 14px">syscall_mem_alloc</font></b></div></div></div></foreignObject><text x="445" y="220" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px" text-anchor="middle">syscall_mem_alloc</text></switch></g><rect x="335" y="275" width="220" height="40" rx="6" ry="6" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 295px; margin-left: 336px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b><font style="font-size: 14px">syscall_set_pgfault_handler</font></b></div></div></div></foreignObject><text x="445" y="300" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px" text-anchor="middle">syscall_set_pgfault_handler</text></switch></g><rect x="335" y="355" width="220" height="40" rx="6" ry="6" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 375px; margin-left: 336px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b><font style="font-size: 14px">__pgfault_handler = fn</font></b></div></div></div></foreignObject><text x="445" y="380" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px" text-anchor="middle">__pgfault_handler = fn</text></switch></g><rect x="598" y="194" width="260" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 214px; margin-left: 600px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 13px">为<b>父进程</b>的异常处理栈（UXSTACKTOP）<br />分配一个物理页面</font></div></div></div></foreignObject><text x="600" y="219" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px">为父进程的异常处理栈（UXSTACKTOP）...</text></switch></g><rect x="598" y="264" width="250" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 294px; margin-left: 600px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><span style="font-size: 13px">将<b>父进程</b>的进程控制块的异常处理栈地址<br />设置为UXSTACKTOP，将异常处理函数<br />设置为__asm_pgfault_handle()</span></div></div></div></foreignObject><text x="600" y="299" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px">将父进程的进程控制块的异常处理栈地址设置为UXSTACKTOP，将异常处理函数...</text></switch></g><rect x="598" y="352" width="241" height="50" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 239px; height: 1px; padding-top: 359px; margin-left: 600px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 13px"><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">将</span><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-style: normal ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none"><b>父进程</b></span><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">的全局变量__pagefault_handler<br />赋值为pgfault函数的地址（通过形参fn传入）</span></font></div></div></div></foreignObject><text x="600" y="371" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">将父进程的全局变量__pagefault_handler...</text></switch></g><path d="M 75 485 L 142.63 485" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 147.88 485 L 140.88 488.5 L 142.63 485 L 140.88 481.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="149" y="455" width="206" height="60" rx="9" ry="9" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 204px; height: 1px; padding-top: 485px; margin-left: 150px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font size="1"><b style="font-size: 14px">syscall_env_alloc</b></font></div></div></div></foreignObject><text x="252" y="489" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">syscall_env_alloc</text></switch></g><rect x="155" y="565" width="200" height="80" rx="12" ry="12" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 605px; margin-left: 156px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b style="font-size: 14px"><font style="font-size: 14px">父进程将需要和自己成共享<br /><div><b><font style="font-size: 14px">的页复制给子进程，并建立</font></b></div><div><b><font style="font-size: 14px">写</font></b><b><font style="font-size: 14px">时复制机制</font></b></div></font></b></div></div></div></foreignObject><text x="255" y="610" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px" text-anchor="middle">父进程将需要和自己成共享的页复制给子进程，并建立写时复制机制...</text></switch></g><path d="M 75 604.41 L 148.63 604.95" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 153.88 604.99 L 146.86 608.44 L 148.63 604.95 L 146.91 601.44 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="155" y="705" width="200" height="40" rx="6" ry="6" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 725px; margin-left: 156px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b><font style="font-size: 14px">syscall_mem_alloc</font></b></div></div></div></foreignObject><text x="255" y="730" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px" text-anchor="middle">syscall_mem_alloc</text></switch></g><rect x="155" y="825" width="200" height="40" rx="6" ry="6" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 845px; margin-left: 156px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><b><font style="font-size: 14px">syscall_set_pgfault_handler</font></b></div></div></div></foreignObject><text x="255" y="850" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px" text-anchor="middle">syscall_set_pgfault_handler</text></switch></g><path d="M 75 725 L 148.63 725" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 153.88 725 L 146.88 728.5 L 148.63 725 L 146.88 721.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 75 844.41 L 148.63 844.95" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 153.88 844.99 L 146.86 848.44 L 148.63 844.95 L 146.91 841.44 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="407" y="705" width="260" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 725px; margin-left: 409px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 13px">为<b>子进程</b>的异常处理栈（UXSTACKTOP）<br />分配一个物理页面</font></div></div></div></foreignObject><text x="409" y="730" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px">为子进程的异常处理栈（UXSTACKTOP）...</text></switch></g><rect x="407" y="818" width="250" height="60" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 848px; margin-left: 409px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><span style="font-size: 13px">将<b>子进程</b>的进程控制块的异常处理栈地址<br />设置为UXSTACKTOP，将异常处理函数<br />设置为__asm_pgfault_handle()</span></div></div></div></foreignObject><text x="409" y="853" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px">将子进程的进程控制块的异常处理栈地址设置为UXSTACKTOP，将异常处理函数...</text></switch></g><rect x="412" y="575" width="241" height="61" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 606px; margin-left: 414px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><font style="font-size: 13px"><font style="text-align: center ; font-size: 13px" face="helvetica">在页面共享的过程中，<b>子进程</b>中</font><span style="font-family: &quot;helvetica&quot;">的全局<br />变量__pagefault_handler</span><span style="font-family: &quot;helvetica&quot;">也被“赋值”为函<br />数pgfault的地址(和父进程保持一致)</span></font><span style="font-size: 12px ; font-family: &quot;helvetica&quot;"><br /></span></div></div></div></foreignObject><text x="414" y="610" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px">在页面共享的过程中，子进程中的全局变量__pagefault_handler也被“赋值”为函...</text></switch></g><rect x="412" y="475" width="80" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 1px; height: 1px; padding-top: 485px; margin-left: 414px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 15px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: nowrap;"><div style="text-align: center"><span style="font-family: &quot;helvetica&quot;"><font style="font-size: 13px">创建子进程</font></span></div></div></div></div></foreignObject><text x="414" y="490" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="15px">创建子进程</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>